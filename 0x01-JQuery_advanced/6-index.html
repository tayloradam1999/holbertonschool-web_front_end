<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 5</title>
		<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
		<script type="application/javascript">
			window.onload = function run() {
				createFamilyTree();
				createForm();
			};

			function createFamilyTree() {
				$('body').prepend(
					`<table>
						<thead>
							<tr>
								<th>Firstname</th>
								<th>Lastname</th>
							</tr>
						</thead>
						<tbody></tbody>
					</table>`);
			}

			function addNewMember(firstname, lastname, position) {
				if (position === "before") {
					$("tbody").before(
						`<tr>
							<td>${firstname}</td>
							<td>${lastname}</td>
							<td>(x)</td>
						</tr>`);
				} else {
					$("tbody").append(
					`<tr>
						<td>${firstname}</td>
						<td>${lastname}</td>
						<td>(x)</td>
					</tr>`);
				}
				
				$("td:nth-child(3)").click(function () {
					$(this).parent().remove();
				});

				$("td:nth-child(3)").css("background-color", "orange");
			}

			function createForm() {
				$("table").before(
					`<form>
						<input type="text">
					 	<input type="text">
					 	<select>
							<option value="before">Before</option>
							<option value="after">After</option>
						</select>
						<input type="submit" id="submit" value="Submit">
					<form>`);
				
				$("#submit").click(function () {
					addNewMember($("input:first").val(), $("input:nth-child(2)").val(), $("selected").find(":selected").text());
				});
			}

		</script>
		
    </head>

    <body>

    </body>

<html>